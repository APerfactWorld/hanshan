1 ．目前家握的技才浏览器视图层日 5 八 5 习 J 习，岁表示层／表述层 Z 表现层控制层卜叫 ServletlAc 石 onl 日 and ! er 业务逻辑层持久化层 JDBC / DBUti ! slspringJDBC 飞 mplatelHibernatelMyBa 石 s DB MySQL / o rade 2 ．目前的技术在开发中存在时司肠州 h 刃 ① 一个项目就是一个工程如果项目非常庞大，就不适合继续便用 package 来划分模块．最好是每一个模块对应一个工程．利于分工枷乍．借助于 Maven 就可以将一个项目拆分成多个工程。必项目中需要时 ar 包必须手动’复制‘’、’‘枯贴”到 W 〔 B - IN 「两 b 目最下带来的问顺是：同样的 ar 包文件亩复出现在不同的项目工程中一方面浪乡存储空间．另外也让工程七傲目种．借助 Maven ，可以翔 ar 包仅仅保存在“仓库”中．有器要便用的工程“引用”这个文件康口，并不畏要耳的周 ar 包复制过来。助 ar 包需要别人带翻门准备好．或到盲网下载不同技术的官网提钧 ar 包下蜀哟形式是五花八门的，有些技术的官网就是通过 Maven 或 SVN 等专门的工具来提供下载的．如果是以不规范的方式下勒匆 ar 包．那么其中的内容很可能也是不规范的．借助于 M aven 可以以一种规花哟方式下到 ar 包．因为所有知名框架或第三方工具时 al 包以及’妥军统一的规范存放在了 Maven 的中央仓库中，伙现范的方式下载咧 a 咆．内容也是可靠的． TIPS : ' ．统一的规范”不仅是对 IT 开发领域非常，要．对于井个人类社会都是非常，要的。函一勺 ar 包依吸的其吻 ar 包震要自己手动加入到项目中 FileUpload 组件一 10 组件． common 、一 6leupload 一 1 . 3jar 依吸干 common 、一 iO 一 2 . 0 . ljar . 如果所旬 ar 包之间的依赖关系都需要但宁员自己乍常清楚的了解．那么就会极大的增加学习成本． Maven 会自动将被依赖询 ar 包导入进采． 3 · M aVen 是什么 IWhat 】 ① M aven 是一款服务于 Java 平台的自动化沟建工具． Make 一 Ant 一 MdVen 一 6rdd ! e 妹文、妥文 ② 构建 【 1 ］溉含：以‘」 ava 源文件’ , ’框架配置文，梨． , J SP - , " HTML - , ”图片．’等资源力”原材料‘．去’生产”一个可以运行的项目的过程。．编译．部署．俗建 121 编泽 Java 源文件［ userjaval 一编译～ cla 、，字书码女件 IU 犯 r . cfa 、， 1 一交蜘 VM 去井听于 【 31 部月二一个 BS 项目居终运行的并不是动态 Web 工捏本身．而是这个动态 Web 工程“绷和的结果”产卜八气净已一六 L 巧日 se 口奋八气口七口动态 Web 工程一编译、部署一编译结票 } web 工程｝哗瓮卜～ ? ‘己卜日 d 。二 t 协‘川‘日乡 com ‘臼翻叼‘卿‘臼烤州‘ . 匀 c ‘扮。 S ．州“ · 山‘ s ‘臼甘曰峨公 T , 9 州‘．诵 et ' " 阵译结幻一 』 ‘泛沙 sr ' 类路径侄怠‘口 W . bCO 州创的净 good 国 t . fg 峨 jsp ? ME 仅一 INF 日 MANIFESTMF 沙脚花 8 · INf 臼‘ b 凶 web 抓 I 口舀耐，叼． p ‘日卜 co " l ‘公．勺。； 9 . ‘臼蛇雨 〔 ．命 chi 腼，州 c . . c ' a 、 s ‘臼”川 et 益 Ta , gots 。、 l ' cla ‘。岛‘ b 长眼权期习 i 汉拒熟砂 p 开发过捏中．所有的路径或配，文件中配置的类路径等都是伙润译结果的目示丝吉构为标准的． TIPS ：运行时环境一 J 肛 S 产 tem 肠 6r ．介尸 · ；．仰鱿比 Tom 以浦 · 0 IAp ．山心下。叮 K 鱿协乐田其实是一绷 ar 包哟引用．并没有脚 ar 包不身复制到工程中．所以并不是目级。 Tips : tc _ server 璧个目录复制到 e 〔 行 p 、 e 解压安装目录下的 droplns 目录下即可 . t request , 日 ttpl Iuest , ftttpservii 峨 · get . j sp " ) . fo 侧 a · St reqUest , Htt , quest , Httpsery N 口． Op . n g 协． In CoPy p 亩目口 O 叫创． R 翻曰”户 R “切 rt 认 D 比。 g R 书切 d R “切 d 认 pro ' Ie 匀比 p 内峭‘卜 o . . n 二 Add ．闭 R . mO , . ? Mon 湘六 n9 C 抽， To 斤忧峨钾。戌以 r 峨相叮～ 8r ～认叩吻帕成 L “浦二街。 pert 沁‘ F3 人扭＋ S 拍分＋ W . Ctd + C C 州＋ Y O 叫俄 e F2 C 七卜八妞＋ O C 七卜八加＋ R C 州＋月卜 S Ctd ＋月卜 P X 今 O 少．朗七樱义 M “材｝ J ' lJU 耐｛｝选夕伙‘创 s ．。训八加。 En 怕亨 ③ 构理过程中的各个环节 【 11 清理：将以前编译得到的旧的 d 书 5 字书码文件删除．为下一次编译做准备 【 21 绷革：翔 ava 源程序编捏比浏的、字节码文件 ! 3 】 浏试：自动测试，自动调倒 u nit 程序 141 相共湘｝讲万早康本九石千的结里【 51 打包：动态 webl 指勿 war 包． Javal 程 ITjar 包 161 安装： M aven 特定的锐含 ― 将打包得到的文件复制到”仓库”中时哲定位置冈部苍：将动态 Web 工程生成的 war 包复制到 Servlat 容截哟指定目录下，便其可以运行 ④ 自动化构建 4 安装 Maven 核心程序 ① 检翻 AVA - HOM 〔 环确变是 C 入 Wi 耐 OWS \ S 产 tem32 , echo % J AVA _ HOM [ % D : \ Devln 、 taINdkl . 7 ．几 07 ② 解压 M aven 核心程序的压缩包．放在一个非中空干空堆谁呈下 D : \ Devlnstall \ aPa ( he 一 maven 一 3 . 2 . 2 ③ 配， Maven 相关的环境变星川 M 恻望＿丛巡些垫丛垫迪组一一一 ― 了月竺～ _ _ _ ．月口户． . . . . ．尸一‘研砚用自夏里丝互 l 变．名妞）空里值仪 〕 胶 J 住口！ p 、 0 . , In , ，公 1 ＼。 p ‘。 h ，一。，。一 3 221 确定 IZlpath 用。盆皿安里名健 〕 贫里值巴 j p . t ' 一 I ：铸二 L . ‘山、峥．。卜一。「饭刁厂面万二 ④ 验证：运行 mvn 一，命令查拐 Maven 版本 C ：气 WindowS \ S 对 em32omvn 一 v Apache Maven 3 . 2 . 2 ( 4Sf7cO6d68e74Sd0S6llf7fd14efb6S 叭 181933 已 2014 一 06 一 17T21 : 51 : 42 , 08 : 00 ) Maven home : D : \ Devlnsta ！临 pa ' he 一 maven 一 3 . 2 . 2 Java version : 1 . 7 . 0 夕 7 . vendor : Oracle Corporation Java home : D , \ DeVln ' tallVdkl . 7 . 0 _ 0 入 re Default Iocale : zh 一 N . platform encoding : GBK 05 name : ' windows7 , . ve 「女 on : " 6 . 1 : arch : ' amd64 一 family : ' windo 叭． 5 . Ma " n 的杨 C 用嗯 ① 约定的目季吕吉构 ② POM ③ 坐标匆依顺 ⑤ 仓库 ⑥ 生命周期 Z 插件 Z 目标勿继承 ⑧ 轰台 6 ．第一个 M aven 工程 ① 创建约定的目弥挂吉构 【 习根目录：工程名 【 2 】 s 代目录：源码 【 31 Pom 沉 m ！文件： Maven 工程的核心配置文件 141main 目最：存放主程序 ISJte 业目录：存放测试徨字 ! 6Uava 目录：存蒯 ava 源文件 I7 ) resour ' “目录：存放框架或其他工具的配置文件 ② 为什么要嫂守约定的目录结沟呢 7 。 M aven 要负资我们这个项目的自训七沟建．切编泽为例． Maven 要想自动进行编译，翻氏乞它必须知道 Java 源文，俘存仁傲二。如里我们自己自定．义的东西想要让框架或工具知道，有两种办法．以配百的方式明确告诉框架妙 a ; , am 一 value 》 classpath : spring 一 conteXt . xol < / param 一 value > · 硬守框架内部 〔 华圣存在的约定 Iog4j . propertie 、 Iog4j . xml 约定＞配月＞编码 7 ．常用 Maven 命令 ① 注愈：执行与构建过程相关的 Maven 命令．必须进入 pom ．灿 l 所在的目录．与沟理过程相关：编译、洲试、打包、 … ～ ⑦ 常用命令 【 11mvn clean ：清理 12 】 mvn compile ：编译主徨亨 【 3 】 mvn test 一 compile ：编译测试程序 14Imvn test ：洲于测试 ! Slmvn package ：打包 16 】 mvn install ：安装口 lmvn site ：生成站点 8 ，关于联网问肠 ① Maven 的核心但字中仅仅定义了油象的生命周期．但是具体的工作必须由特定的插件来完成。而插件本身并不包含在 Maven 的核心捏序中． ② 当我们护炭汾 〕 M aven 命令需要用到某些插件时， Maven 核心程序会首先到本地仓库中查抵 ③ 本地仓库的默认位且： 【 系统中当前用户的家目录 l \ . mZ 、 repository C : \ U " r 叭澄录当前系统的用户名 】 ＼ . m 入 repository ④ Maven 核心程序如果在本地仓库中找不到澡勤勺播件．那么它会白习叭奎接外网．到中央仓库下载．份如果此助无法连接外网，则沟建失败． ⑥ 修改默认本地仓库的位盆可以让 M aven 核心程序到我们事先准备好的目录下查找插件 【 i 】 找到 Maven 解压目录冰 on 八关 tting 、． xml 121 在、 etting 、， xml 文件中找到 locaIRepo 、 itofy 标整 【 3 】 持 《 localRep 仍 itory , / path / t 叼 ocal / repo 《 乃 ocaIRep 仍 itory ，娜主释中取出 141 将标签体内容修改为已经准备好的 Maven 仓库目最 < l 仪 a IRepository , D : \ RepMaven ‘刀 ocalRep 仍 itory 》 9 . POM ① 含义： Project object Model 项目劝象横型 DoM Document object Model 文档对象模型 ② Pom . xm 时于 Maven 工程是核心配置文件．与构建过程相关的一切设置都在这个文件中进行配盆。里要程度相当于 web . xml 对于动态 Web 工程 10 ．坐标 ① 数学中的坐标： 【 1J 在平面上，使用 X 、丫两个向．可以唯一的定位平面中的任何一个点。 121 在空间中．使用 X 、 V 、 Z 三个向最可以唯一的走位空间中的任何一个点。 ② Maven 的坐标使用下面三个向居在仓库中唯一定位一个 Maven 工程 【 llgroupid ：公司蜕组织域名倒序．项目名 《 groupid 》 com . atgu 为 u . maven 《 ／ qroupid , 12lartifactid ：棋块名 《 artifactid , Hello 《 laftifactid , I3lversion ：版本 《 version , 1 . 0 . 0 《 ／ v ersion ,③ M aven 工程的坐标与仓库中路苛劲勺对应关系 《 groupld 》 Org · Springframework ' / groupld , ' artifactld 》 ‘ pring 一 core < / altifactld , ‘钟巧 ion 》 4 . 0 . 0 . RELEASE 。八“ sion 》 org / springframewor 灯 spring 一（ ore / 4 · O . O . REL 〔 ASE ／、 pring 一 core4 , O . O . R 〔 LEAS 〔 jar IL 仓库 ① 仓库的分类 111 本地仓库：当前电脑上部奢的仓库目录为当前电脑上所有 Maven 工程服努 121 远程仓库 ( 1 ）私服：俗建在局域网甲充中，为局域网范围内的所有 M aven 工程服务 ( 2 ）中央仓库：架设在 1 nte 『 net 上，为全世界所有 Maven 工程服务归）中央仓库镜像二为了分担中央仓库的流盖．提升用户访问速度 ② 仓库中保存的内容： Maven 工程 【 11Maven 自身所需要的播件 121 第三方框架或工具荆 a 咆 131 我们自己开发的 Mavenl 捏 12 ．依赖 【 初步 l ① Maven 解析依颐信恳时会到本地仓库中查找被依赖时 ar 包．对于翻｛ 1 自己开发的 Maven 工程，使用 mvn insta ”命令安装后就可以进入仓库。 ② 依赖的范围 Maven 程序 nl 白 In compile 范围的依赖 test test 范圈的依核 Illcompile 范围依吸．对主捏序是否有效；有效．对洲试程序是否有效二有效 · 是否参与打包：参与‘是否参与部署二参与．典型例子： spring 一 core 121test 范圈依赖 · 对主但字是否有效：无效．对测试程序且否有效：有效．是否参与打包：不参与．是否参与部月二不参与 · 典型例子： junit I3lprovided 范圈依鼓 · 对主穆序是百有效：有效．对测试但字是否有效：有效．是否参与打包：不参与 · 是否参与部署：不参与 · 典型例子： servlet 一 apijar Maven 工程［ W 亡 b 工程 】 开发部署 compile 范围依帷运行Maven 工程 【 web 工程 1 开发 provided 范围依赖部署忽略运行由 Servlet 容器提供 Tom 〔 日 t 13 ．生命周期 ① 各个构建环节圳予约顺序：不姗括口项序．必须按照既效绷正确顺序来执行． ② Maven 的核心程序中定义了抽象的生命周期，生命周期中名冷阶段的具体任务是由周牛采完成的． ③ Maven 核心程序为了更好的实现自动化构建．按照这－的特点执行生命周期中的谷个阶段：不论现在要执行生命周期中的．一个阶段，都是拟花个生弃图李足采，，合 mvn compiie maven 一 re ' ouf ( “一 plugin : 2 . 6 : resourc6 maven · com 口 Ier · plugin : 2 . 5 . 1 : compile mVn test maven 一 re ' ourc “一 plugin : 2 · 6 : resourc " maven · compiler · plugin : 2 · 5 . 1 : com 口 Ie maven 一 resourc “一 plugin : 2 . 6 沈 estResources maven 一 compile 卜 plugin : 2 . 5 . 1 : te ' tCompile maven 一 surefire 一 plugin : 2 , 12 . 4 : test 测试报告 mvn Package maven 一 re ' ourc “一 plugin : 2 . 6 : resourc " maven 一‘ Ompiler 一 plugin : 2 . 5 . 1 : compile maven 一 re ' ources 一 plugin : 2 . 6 : testRe 沁 ufce ' maven 一 〔 ompiler 一 plugin : 2 . 5 . 1 : testCompile maven 一 surefire 一 p ! ugin : 2 . 12 . 4 : test 测试报告 mavenjar 一 plugin : 2 . 4jar ④ 插件和目标 【 1 ］生品周期的各个阶段仅仅定义了要执行的任冬是价、． : 121 各个阶段和插件的目标是对应的．！引翻以的目标由特定的播件案完成．生命周期阶段周牛目标护甭件 ( ompile compile I " t 一（ Ompile 141 可以将目标衍作”调用播件功能的命令” te ' tCompile maven 一 compiler 一 plugin maven 一 compiler 一 p ! ugin 14 ．在 Eclipse 中使用 Maven ① Maven 插件： Eclip 、 e 内， ② M aven 播件的设置 【 Ilin 叭 allations ：指定 Maven 核 J 的呈序时立置．下诬议使用播件目带的 Maven 程序．而应该使用我们自己解压的那个． I21u 钟 r 、 etting 、：指定 conf ／犯 tting 、． xml 的位口．进而获取本地仓库的位月．111 创建 Maven 版的招 va 工程 121 创理 Maven 版的 Web 工捏 1 31 执行 Maven 命令巧．依赖廊级］‘廿 H 刻 IoF6 ．记：氏众 1 · SN 司枯日 Ot ! c ～两 Iej 卜奋丽石瓜面丽丽丽而丽而 i 直接依核 ' ，一， p6ng , ' o , : 4 : 0 让 R 〔 LEASE Icom 咖闷．爪 com 确 n 。一 109 , in , : LLi ! tomp 三 lel 传递过来的依顿 11 】 好处 12 】 注息 ② 依吸日渊游 【 11 留要宝可以传递的依赖不必在每个模块工程中都重复声明．在’最下面‘的工程中依赖一次即可。非 co mPIle 范困的依赖不能传递．所以在各个工程横块中，如里有需要就得直复声明依赖．‘肠寻 l 依赖排除的场台 " ello 「心 nd ：众 0 . 1 一 S 入习毯 HOT Ico 。乒 lel 岭 He { 10 : 0 众 1 一 SN 助 SHOTI ‘阅 p 而 I 斤砰条黑瓷筹箫器黯石角实需要使用的依顿不住定 ja 『 包，不希望加入当前工程 【 2 ］依赖排除的设且方式 < exclusions > < exc1Usion 》 < groupld > com 的 ns 一 logging < / groupld > < artifa ( tld > com 阳 ns 一 logging < lartifactld > < / exclusion > 《 ／ exc lusions 》 ③ 依赖的原则 111 作用：解决棋块工程之间回 ar 包冲奕问颐 【 21 储景设定 l ：验证路径最短者优先原则 { Ma - - terr 沁 nds 卜一州－ Hellor " end HellO } ' Og4 ） · 1 , 2 · 14 ! } 108 引 · 1 · 2 · 14 ! 31 情里设定 2 ：吩正跳径相同时先声明者优先 IM 痴 rriend ，目一州。 el 地「 riond Iog4j . 1 . 2 . 17 I 姐 41 . 1 . 2 . 14 OUrFriendS 10941 . 1 . 2 . 17 先声明于助勺是 dependency 标签的声明顺序 ④ 统一管理依吸的版本 【 1 ］倩．举例 g 汤 unit 月，闪． ro : ＼肋 pM ，。 n 幼 un ；闪 u ‘叭峨夕， p ‘呜。 o ，一切 0 ．映 EtE " Ej ，一。＼ Rop , 匀 t 。～。卜吻萝闪一 11 与． r 矢、肋 pM 。夕印‘ ng · ro 而 xt 月．叻， R 〔 匡 A " j . r · o 入爪孕‘ p " n ，一叩礴众认 RE 比 A " : j ro : \ ReP ' 日， rin ，一 be ．。。确．叻． RE 匡 As 〔 j . r ，、 R . l 汤， p6ng · ，甲．叭”！切． 0 . R 〔 L 以 s 〔 j . r 。夕， prin , jd 从一 O . 0 - ecL 仁 As ‘枷。、 Re ，。夕， prin 。 · 、礴． 0 ' o 卜随 LEAs 〔 扣 r 田 R 印 M , 夕， pri 闪 · ～礴．叭 R 〔 比 As 〔 扣 r 、：、、 R , p 卜淤． OPallia 、， LO 扣卜，．卜一 n \ a 。 P . 呈 spring 二 b 确． 0 ．众 RE 匡舫￡扣 r 共。 p 入这里珍寸 SPring 各创 af 包的依赖版不都是 4 . 0 . 0 如果需要统一升级为 4 . Ll ，怎么办？手动逐－修改不可旅。 ! 21 建议配且方式 i ．使用 prope 币 es 标签内使用自定义标签统一声明版水号 < properties > < atguigu . spring . version 》 4 . 0 . 0 . RELEASE 《 ／ atg " igu . spring . version 》 < lproperties 》 ii ．在需要统一版本的位盆．使用又自走义标签名｝引用声明的版本号 《 versio ，、＞事｛ atguigu . spring . version } < Iver 、 ion > 【 31 其实 Propertl “标签配合自定义．标签声明数据的配盆并不是只能用于声明依赖的版本号。凡是震要统一声明后再引用的场合都可以使用． < properties > < atguigu . spring · version > 4 . 1 . 1 . RELEASE < Iatguigu . Spring . version > < project . build ．、 ouoce 〔 ncoding > UTF 一 8 < / project · build . 5our ' ceEncoding > < / properties 》 16 ．继承 ① 现状 Hello 依赖刘 unit : 4 · 0 HelloFrien 均浓赖时 unit : 4 . 0 MakeFriends 依赖时 unit : 4 . 9 由于 te “范围的依科下能传递．所以必然会分散在各个模块工程中很容易造成版不不一致。 ② 异求：统一琶理各个模块工捏中劝 u nit 依赖的版本 ③ 解决思路：翔 unit 依赖统一提取到”父‘工程中．在子工程中声晒 unit 依级时不指定版本，以父工程中统一设定的为准．同时也便于修改。 ④ 摄作步骡 111 创理一个 Maven 工捏作为父工程．注您：打包的方式 POm < groupld 》 coo . atguigu · nlaven < lgroupld 》 < arti 于 actld > parent < lartifa ( tld > < version > 0 . 0 . 1 一 SNAPSHOT < / version 》 < packaging > po . < lpackaging 》 ! 2 】 在子工程中声明对父工程的引用 < ，一子工理中声明父工程一＞ < parent > < groupld > c 俪． atguigu . maven < / groupld 》 < artifactld > parent < / artifactld > < version > 0 。 0 . 1 · SNApSHOT < jvers 豆 on 》 < ！一以当前文件为荃准的父工程 p 。。． xol 文件的相对路径一 》 < relativePath ＞二／ parent / p 呱．抓 l < / relativepath > < lparent 》 ! 31 将子工程的坐标中与父工程坐标中重复的内容删除 < groupld > c 伽． atguigu . maven ( / groupld 》 du 两。 a 份。‘ parent , roup ' d . ; l 油肠： X Re 朋粉。， ouoldd 代 la , at 沁 n 14 】 在父工程中统一甘倒 u nit 的依赖口一配置依赖的省退一， < dependenc 州 anageoent 》 ' J －一～一」～ ? ? ：一～< dependency > 《 groUpld ＞上逛丝＜ / groupld 》 < artifactld > j 迎丝。／ artifactld > < version > 4 。 0 < / version 》 < scope > test ＜八 cope > < / dependency > < / dependencies 》 < ldependencyManagement 》 lS ］在子工程中侧陶 unit 依赖的版不号部分 < version > 4 。 e < / version > 运 O 叭时石 d ; ng mao . ged ，闲 004 · 9 肠 r jun 汪 ZQ 山 ck 6xes . , . 1 ! ．日橄履薰亚级魏边熟琪画 19n " ．血 s 幽‘ rni 叩 XX 晰仍 S ' FZ for 扬口朽 ⑤ 注愈二配置继承后．执行安装命令时要先安装父工程． 17 ．聚合 ① 作用：一键安袭各个模块工程。 ② 配盆方式：在－个‘斑哟聚合工捏”中配置各个参与获合的棋块＜卜一配置聚合一 》 < modules > < l 一指定各个子工程的相对路径一 》 < module 》 二／ Hello < ／。 odule > < module 》 二／ HelloFriend ( / module 》 < module 》 二／ MakeFriends ' / module 》 < ／帕 dules 》 ：在双台工程的 pem . xml 上点右性一 runa 、一 maven install